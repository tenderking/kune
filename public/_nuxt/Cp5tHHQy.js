import{_ as w,a as y,b as g}from"./vY2qZhG9.js";import{_ as b}from"./CJL6ADSF.js";import{_ as v}from"./DKlPxsyM.js";import{_ as U}from"./CvuIChfX.js";import{e as V,r as u,o as C,z as k,w as o,a as m,b as a,d as _,t as B,G as F,H as N}from"./gt121ii6.js";import"./F6I_F62J.js";const P={class:"text-red-500 mt-5"},M=V({__name:"index",setup(S){const l=u(null),n=u({email:""});async function i(){var r;try{const e=new FormData;e.append("email",n.value.email),await $fetch("/api/auth/reset-password",{method:"POST",body:e}).then(t=>{const s=t;if(s.status!==200)throw new Error("Failed to send email");s.status===200&&alert("Email sent. Please check your inbox.")}),await N("/")}catch(e){const t=((r=e.data)==null?void 0:r.message)??e.message??null;l.value=t}}return(r,e)=>{const t=w,s=y,p=b,c=g,d=v,f=U;return C(),k(f,{class:"my-5 py-8 flex flex-col items-center"},{default:o(()=>[e[3]||(e[3]=m("h1",null,"Sign in",-1)),e[4]||(e[4]=m("p",{class:"max-w-lg"}," Please enter your email to reset password. ",-1)),a(c,{method:"post",state:n.value,onSubmit:F(i,["prevent"])},{default:o(()=>[a(s,{label:"Username",required:""},{default:o(()=>[a(t,{modelValue:n.value.email,"onUpdate:modelValue":e[0]||(e[0]=x=>n.value.email=x),type:"text",name:"email"},null,8,["modelValue"])]),_:1}),a(p,{type:"submit",color:"orange",class:"mt-10"},{default:o(()=>e[1]||(e[1]=[_(" Continue ")])),_:1}),m("p",P,B(l.value),1)]),_:1},8,["state"]),a(d,{to:"/signup",class:"mt-5 text-blue-500"},{default:o(()=>e[2]||(e[2]=[_(" Create an account ")])),_:1})]),_:1})}}});export{M as default};
