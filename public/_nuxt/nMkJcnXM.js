import{_ as y,a as k,b as V}from"./vY2qZhG9.js";import{_ as b}from"./CJL6ADSF.js";import{_ as v}from"./CvuIChfX.js";import{e as P,a0 as U,r as l,o as m,z as g,w as s,a as p,b as n,D as r,J as B,d as N,c as C,t as R,E as $,G as S,H as T}from"./gt121ii6.js";import"./F6I_F62J.js";import"./DKlPxsyM.js";const D={key:0,class:"text-red-500 mt-5"},J=P({__name:"[token]",setup(E){const u=U().params.token,o=l(""),t=l(null);async function _(){t.value=null;try{await $fetch(`/api/auth/reset-password/${u}`,{method:"POST",body:{password:o.value}}),T("/login")}catch(a){console.error(a),t.value=a}}return(a,e)=>{const c=y,d=k,i=b,f=V,w=v;return m(),g(w,{class:"my-5 py-8 flex flex-col items-center"},{default:s(()=>[e[2]||(e[2]=p("h1",null,"Reset Password",-1)),e[3]||(e[3]=p("p",{class:"max-w-lg"}," Please enter your new password. ",-1)),n(f,{state:{},onSubmit:S(_,["prevent"])},{default:s(()=>[n(d,{label:"New Password",required:""},{default:s(()=>[n(c,{modelValue:r(o),"onUpdate:modelValue":e[0]||(e[0]=x=>B(o)?o.value=x:null),type:"password",name:"password"},null,8,["modelValue"])]),_:1}),n(i,{type:"submit",color:"orange",class:"mt-10"},{default:s(()=>e[1]||(e[1]=[N(" Reset Password ")])),_:1}),r(t)?(m(),C("p",D,R(r(t)),1)):$("",!0)]),_:1})]),_:1})}}});export{J as default};
